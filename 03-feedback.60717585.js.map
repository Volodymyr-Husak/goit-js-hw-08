{"mappings":"AAoGA,MAAMA,EAASC,SAASC,cAAc,kBAEhCC,EAAUF,SAASC,cAAc,SAEjCE,EAAaH,SAASC,cAAc,YAG1C,IAAIG,EAAoB,CACtBC,MAAOH,EAAQI,MACfC,QAASJ,EAAWG,OAGtBP,EAAOS,iBAAiB,QAASC,EAAEC,UAEnC,SAAgBC,GACd,IAEE,MAAMC,EAAaD,EAAME,cAAcC,SAAST,MAAMC,MAChDS,EAAeJ,EAAME,cAAcC,SAASP,QAAQD,MAE1DF,EAAkBC,MAAQO,EAC1BR,EAAkBG,QAAUQ,EAG5B,MAAMC,EAAuBC,KAAKC,UAAUd,GAC5Ce,aAAaC,QAAQ,sBAAuBJ,GAC5C,MAAOK,OAdyC,MAoBpDC,OAAOC,OAAS,SAAUC,GACxBC,QAAQC,IAAI,4BAEZ,IAEE,GAAIP,aAAaQ,QAAQ,uBAAwB,CAC/C,MAAMC,EAAkBT,aAAaQ,QAAQ,uBAG7CvB,EAAoBa,KAAKY,MAAMD,GAE/B1B,EAAQI,MAAQF,EAAkBC,MAClCF,EAAWG,MAAQF,EAAkBG,aAGlCL,EAAQI,MAAQF,EAAkBC,MACvCF,EAAWG,MAAQF,EAAkBG,QACrC,MAAOc,GAEPI,QAAQC,IAAIL,EAAMd,WAItBR,EAAOS,iBAAiB,UAExB,SAAsBG,GACpBA,EAAMmB,iBAEFX,aAAaQ,QAAQ,yBAEvBF,QAAQC,IAAItB,GACZe,aAAaY,WAAW,wBAE1B7B,EAAQI,MAAQ,GAChBH,EAAWG,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["// // var _ = require('lodash.throttle');\n// // var throttle = require('lodash.throttle');\n\n// const formEl = document.querySelector('.feedback-form');\n\n// const inputEl = document.querySelector('input');\n// // console.log(inputEl);\n// const textareaEl = document.querySelector('textarea');\n// // console.log(textareaEl);\n\n// let feedbackFormState = {\n//   email: inputEl.value,\n//   message: textareaEl.value,\n// };\n\n// formEl.addEventListener('input', _.throttle(onForm, 500));\n\n// function onForm(event) {\n//   try {\n//     // Code that may throw a runtime error\n//     const emailValue = event.currentTarget.elements.email.value;\n//     const messageValue = event.currentTarget.elements.message.value;\n\n//     feedbackFormState.email = emailValue;\n//     feedbackFormState.message = messageValue;\n//     // debugger;\n//     // try {\n//     const feedbackFormStateStr = JSON.stringify(feedbackFormState);\n//     localStorage.setItem('feedback-form-state', feedbackFormStateStr);\n//   } catch (error) {\n//     // Error handling\n//     // console.log('Error');\n//   }\n// }\n\n// window.onload = function (e) {\n//   console.log('веб-сторінку завантажено');\n//   // debugger;\n//   // try {\n//   // Code that may throw a runtime error\n//   if (localStorage.getItem('feedback-form-state')) {\n//     inputElValueObj = localStorage.getItem('feedback-form-state');\n//     console.log(inputElValueObj);\n//     feedbackFormState = JSON.parse(inputElValueObj);\n//     console.log(feedbackFormState);\n//     inputEl.value = feedbackFormState.email;\n//     textareaEl.value = feedbackFormState.message;\n//   } else console.log(feedbackFormState);\n//   inputEl.value = feedbackFormState.email;\n//   textareaEl.value = feedbackFormState.message;\n//   // } catch (error) {\n//   //   // Error handling\n//   // }\n// };\n\n// formEl.addEventListener('submit', onFormSubmit);\n\n// function onFormSubmit(event) {\n//   event.preventDefault();\n//   console.log(feedbackFormState);\n//   if (localStorage.getItem('feedback-form-state')) {\n//     // localStorage.setItem('feedback-form-state', feedbackFormStateStr);\n//     localStorage.removeItem('feedback-form-state');\n//   }\n//   inputEl.value = '';\n//   textareaEl.value = '';\n//   // feedbackFormState = null;\n// }\n\n// ======================================================================================================\n// ==============================================V2========================================================\n// ======================================================================================================\n// var _ = require('lodash.throttle');\n// var throttle = require('lodash.throttle');\n// const save = (key, value) => {\n//   try {\n//     const serializedState = JSON.stringify(value);\n//     localStorage.setItem(key, serializedState);\n//   } catch (error) {\n//     console.error('Set state error: ', error.message);\n//   }\n// };\n\n// const load = key => {\n//   try {\n//     const serializedState = localStorage.getItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n// const remove = key => {\n//   try {\n//     const serializedState = localStorage.removeItem(key);\n//     return serializedState === null ? undefined : JSON.parse(serializedState);\n//   } catch (error) {\n//     console.error('Get state error: ', error.message);\n//   }\n// };\n// ================================================================================\nconst formEl = document.querySelector('.feedback-form');\n\nconst inputEl = document.querySelector('input');\n// console.log(inputEl);\nconst textareaEl = document.querySelector('textarea');\n// console.log(textareaEl);\n\nlet feedbackFormState = {\n  email: inputEl.value,\n  message: textareaEl.value,\n};\n\nformEl.addEventListener('input', _.throttle(onForm, 500));\n\nfunction onForm(event) {\n  try {\n    // Code that may throw a runtime error\n    const emailValue = event.currentTarget.elements.email.value;\n    const messageValue = event.currentTarget.elements.message.value;\n\n    feedbackFormState.email = emailValue;\n    feedbackFormState.message = messageValue;\n    // debugger;\n    // try {\n    const feedbackFormStateStr = JSON.stringify(feedbackFormState);\n    localStorage.setItem('feedback-form-state', feedbackFormStateStr);\n  } catch (error) {\n    // Error handling\n    // console.log('Error');\n  }\n}\n\nwindow.onload = function (e) {\n  console.log('веб-сторінку завантажено');\n  // debugger;\n  try {\n    // Code that may throw a runtime error\n    if (localStorage.getItem('feedback-form-state')) {\n      const inputElValueObj = localStorage.getItem('feedback-form-state');\n      // load('feedback-form-state');\n      // console.log(inputElValueObj);\n      feedbackFormState = JSON.parse(inputElValueObj);\n      // console.log(feedbackFormState);\n      inputEl.value = feedbackFormState.email;\n      textareaEl.value = feedbackFormState.message;\n    }\n    // console.log(feedbackFormState);\n    else inputEl.value = feedbackFormState.email;\n    textareaEl.value = feedbackFormState.message;\n  } catch (error) {\n    //   // Error handling\n    console.log(error.message);\n  }\n};\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  // console.log(feedbackFormState);\n  if (localStorage.getItem('feedback-form-state')) {\n    // localStorage.setItem('feedback-form-state', feedbackFormStateStr);\n    console.log(feedbackFormState);\n    localStorage.removeItem('feedback-form-state');\n  }\n  inputEl.value = '';\n  textareaEl.value = '';\n  // feedbackFormState = null;\n}\n// console.log(localStorage.getItem('feedback-form-state'));\n"],"names":["$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$textareaEl","$945622fd0f572e60$var$feedbackFormState","email","value","message","addEventListener","_","throttle","event","emailValue","currentTarget","elements","messageValue","feedbackFormStateStr","JSON","stringify","localStorage","setItem","error","window","onload","e","console","log","getItem","inputElValueObj","parse","preventDefault","removeItem"],"version":3,"file":"03-feedback.60717585.js.map"}